{"ast":null,"code":"import axios from \"axios\";\nimport AuthService from \"./auth.service\";\nconst API_URL = \"http://localhost:8000/api/v1/reports\";\nconst API_URL_LOGIN = \"http://localhost:8000/api/v1/accounts/login\";\nclass ReportService {\n  getAllReports() {\n    const user = AuthService.getCurrentUser();\n    return new Promise((resolve, rej) => {\n      axios.get(API_URL, {\n        headers: {\n          Authorization: \"Bearer \" + user.token\n        }\n      }).then(response => {\n        console.log(response.data[\"reports\"]);\n        console.log(response.data[\"reports\"][0]);\n        let res = [];\n        for (let report of response.data[\"reports\"]) {\n          res.push(report);\n        }\n        console.log(typeof res);\n        return resolve(res);\n      }).catch(rej);\n    });\n  }\n}\nexport default new ReportService();","map":{"version":3,"names":["axios","AuthService","API_URL","API_URL_LOGIN","ReportService","getAllReports","user","getCurrentUser","Promise","resolve","rej","get","headers","Authorization","token","then","response","console","log","data","res","report","push","catch"],"sources":["/Users/andreevalexander/bmstu_web/bmstu_reports_system_web_app/src/services/report.service.ts"],"sourcesContent":["import axios from \"axios\";\nimport AuthService from \"./auth.service\";\nimport {array} from \"yup\";\n\nconst API_URL = \"http://localhost:8000/api/v1/reports\";\nconst API_URL_LOGIN = \"http://localhost:8000/api/v1/accounts/login\";\n\nclass ReportService {\n    getAllReports() : array {\n        const user = AuthService.getCurrentUser();\n\n        return new Promise((resolve, rej) => {\n            axios\n                .get(API_URL, {\n                    headers: {\n                        Authorization: \"Bearer \" + user.token,\n                    },\n                })\n                .then((response) => {\n                    console.log(response.data[\"reports\"]);\n                    console.log(response.data[\"reports\"][0]);\n                    let res = [];\n                    for (let report of response.data[\"reports\"]) {\n                        res.push(report);\n                    }\n                    console.log(typeof res);\n                    return resolve(res);\n                }).catch(rej);\n        });\n    }\n}\n\nexport default new ReportService();\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,WAAW,MAAM,gBAAgB;AAGxC,MAAMC,OAAO,GAAG,sCAAsC;AACtD,MAAMC,aAAa,GAAG,6CAA6C;AAEnE,MAAMC,aAAa,CAAC;EAChBC,aAAa,GAAW;IACpB,MAAMC,IAAI,GAAGL,WAAW,CAACM,cAAc,EAAE;IAEzC,OAAO,IAAIC,OAAO,CAAC,CAACC,OAAO,EAAEC,GAAG,KAAK;MACjCV,KAAK,CACAW,GAAG,CAACT,OAAO,EAAE;QACVU,OAAO,EAAE;UACLC,aAAa,EAAE,SAAS,GAAGP,IAAI,CAACQ;QACpC;MACJ,CAAC,CAAC,CACDC,IAAI,CAAEC,QAAQ,IAAK;QAChBC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAACG,IAAI,CAAC,SAAS,CAAC,CAAC;QACrCF,OAAO,CAACC,GAAG,CAACF,QAAQ,CAACG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;QACxC,IAAIC,GAAG,GAAG,EAAE;QACZ,KAAK,IAAIC,MAAM,IAAIL,QAAQ,CAACG,IAAI,CAAC,SAAS,CAAC,EAAE;UACzCC,GAAG,CAACE,IAAI,CAACD,MAAM,CAAC;QACpB;QACAJ,OAAO,CAACC,GAAG,CAAC,OAAOE,GAAG,CAAC;QACvB,OAAOX,OAAO,CAACW,GAAG,CAAC;MACvB,CAAC,CAAC,CAACG,KAAK,CAACb,GAAG,CAAC;IACrB,CAAC,CAAC;EACN;AACJ;AAEA,eAAe,IAAIN,aAAa,EAAE"},"metadata":{},"sourceType":"module","externalDependencies":[]}